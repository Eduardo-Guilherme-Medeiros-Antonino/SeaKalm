<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SeaKalm - Histórias que acalmam e cuidam</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <div class="page-wrapper">
        <header id="header" class="header">
            <!-- Gerado dinamicamente pelo auth.js -->
        </header>

        <main>
            <section class="hero">
                <div class="hero-content">
                    <h1 class="hero-title">Histórias que <span>Acalmam e Cuidam</span></h1>
                    <p class="hero-subtitle">Ajudamos crianças com TDAH, autismo e hiperatividade a relaxar através de histórias especiais</p>
                    <div class="hero-actions">
                        <a href="#story-section" class="button-primary"><i class="fa-solid fa-headphones"></i> Começar a Ouvir</a>
                        <button id="open-chat-hero-button" class="button-secondary"><i class="fa-regular fa-comment-dots"></i> Conversar</button>
                    </div>
                </div>
            </section>

            <section id="story-section" class="container">
                <div class="section-header">
                    <h2>Escolha uma Categoria</h2>
                </div>
                <div id="category-filters" class="category-filters">
                    <button class="filter-button active" data-category="Todas"><i class="fa-solid fa-star"></i> Todas</button>
                    <button class="filter-button" data-category="Relaxamento"><i class="fa-solid fa-wave-square"></i> Relaxamento</button>
                    <button class="filter-button" data-category="Aventura"><i class="fa-solid fa-compass"></i> Aventura</button>
                    <button class="filter-button" data-category="Educativas"><i class="fa-solid fa-lightbulb"></i> Educativas</button>
                    <button class="filter-button" data-category="Para Dormir"><i class="fa-solid fa-moon"></i> Para Dormir</button>
                    <button class="filter-button" data-category="Autoestima"><i class="fa-solid fa-heart"></i> Autoestima</button>
                </div>

                <div class="section-header">
                    <h2>Todas as Histórias</h2>
                    <button id="open-generate-modal-button" class="button-tertiary"><i class="fa-solid fa-robot"></i> Gerar História com IA</button>
                </div>
                <div id="story-library" class="story-grid">
                    <!-- Histórias carregadas via JS -->
                </div>
            </section>
        </main>
        
        <footer class="footer">
            <p>Email para contato: <a href="mailto:contato@seakalm.com">contato@seakalm.com</a></p>
            <p>Criado por JOTA</p>
        </footer>
    </div>

    <!-- ===== MODAIS FLUTUANTES ===== -->

    <!-- Modal de Autenticação -->
    <div id="auth-modal" class="modal-overlay hidden"></div>

    <!-- Modal para Gerar História (Antes ficava em `script.js`) -->
    <div id="generate-story-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="close-generate-modal-button" class="close-button">&times;</button>
            <h2>Crie sua própria aventura!</h2>
            <p>Escreva sobre o que você gostaria que fosse a história.</p>
            <form id="generate-prompt-form">
                <textarea id="story-prompt-input" placeholder="Ex: uma tartaruga corajosa que faz amizade com uma estrela-do-mar..." rows="4" required></textarea>
                <button type="submit" class="button-primary">
                    <span class="generate-button-text">Gerar História</span>
                    <span class="loader hidden"></span>
                </button>
            </form>
        </div>
    </div>
    
    <!-- Modal do Chatbot (Antes era um widget fixo) -->
    <div id="chat-modal" class="modal-overlay hidden">
        <div class="chatbot-window">
             <div class="chat-header">
                <h3><i class="fa-solid fa-robot"></i> Assistente SeaKalm</h3>
                <button id="close-chat-button" class="close-button">&times;</button>
            </div>
            <div class="chat-messages" id="chat-messages">
                <div class="message luna-message">Olá! Eu sou o assistente SeaKalm. Como você está se sentindo hoje?</div>
            </div>
            <form id="chat-form" class="chat-input-form">
                <input id="chat-input" type="text" placeholder="Digite sua mensagem...">
                <button type="submit" aria-label="Enviar"><i class="fa-solid fa-paper-plane"></i></button>
            </form>
        </div>
    </div>

    <!-- Modal de Alerta Customizado -->
    <div id="custom-alert-modal" class="modal-overlay hidden"></div>

    <script src="auth.js"></script>
    <script src="script.js"></script>
</body>
</html>